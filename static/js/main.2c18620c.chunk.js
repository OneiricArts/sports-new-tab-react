(this["webpackJsonpsports-new-tab"]=this["webpackJsonpsports-new-tab"]||[]).push([[0],{14:function(e,t,a){e.exports=a(24)},20:function(e,t,a){},24:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a.n(n),r=a(7),i=a.n(r),l=(a(19),a(20),a(6)),c=a.n(l),o=a(9),m=a(31),u=a(29),d=a(30);var h=a(25),f=a(26),p=a(27),g=(f.a,function(e){var t=e.title,a=e.children;return s.a.createElement(h.a,null,s.a.createElement(f.a,null,t),s.a.createElement(p.a,null,a))});function E(e){var t={displayDate:e.w,games:[]};return e.gms.forEach((function(e){var a=e.id,n=e.status,s=e.awayTeam,r=e.homeTeam,i=e.awayTeamHasPosession,l=e.homeTeamHasPosession,c=e.awayTeamWinning,o=e.homeTeamWinning,m=e.awayTeamScore,u=e.homeTeamScore,d="";try{if("DATETIME"===n.type){var h=new Date(n.value);d=h.toLocaleString("en-US",{weekday:"short",hour:"2-digit",minute:"2-digit"}).replace(/AM|PM/,"").trim()}else d=n.value}finally{}t.games.push({id:a,status:d,awayTeam:s,homeTeam:r,awayTeamWinning:c,homeTeamWinning:o,awayTeamScore:m,homeTeamScore:u,awayTeamHasPosession:i,homeTeamHasPosession:l,hidden:!1})})),t}function v(e,t){return e.displayDate!==t.displayDate?e:(e.games.map((function(e,a){var n=t.games.filter((function(t){return t.id===e.id}))[0];return n&&(e.hidden=n.hidden),e})),e)}function w(e){var t,a,n;return c.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return"https://sports-new-tab-page.appspot.com/nfl",s.t0=c.a,s.next=4,c.a.awrap(fetch("https://sports-new-tab-page.appspot.com/nfl"));case 4:return s.t1=s.sent.json(),s.next=7,s.t0.awrap.call(s.t0,s.t1);case 7:if(t=s.sent,a=E(t),e){s.next=11;break}return s.abrupt("return",a);case 11:return n=v(a,e),s.abrupt("return",n);case 13:case"end":return s.stop()}}))}var y=a(28),T=function(e){var t=e.game,a=e.removeGame;return n.createElement("tr",null,n.createElement("td",{className:"align-middle"},t.status),n.createElement("td",{className:"align-middle ".concat(t.awayTeamWinning?"winning_team":""," ").concat(t.awayTeamHasPosession?"has_posession":"")},t.awayTeam,t.awayTeamHasPosession&&n.createElement("span",{className:"d-none d-md-inline d-lg-inline"}," \ud83c\udfc8")),n.createElement("td",{className:"align-middle ".concat(t.homeTeamWinning&&"winning_team"," ").concat(t.homeTeamHasPosession?"has_posession":"")},t.homeTeam,t.homeTeamHasPosession&&n.createElement("span",{className:"d-none d-md-inline d-lg-inline"}," \ud83c\udfc8")),n.createElement("td",{className:"align-middle text-right"},t.awayTeamScore),n.createElement("td",{className:"align-middle text-right"},t.homeTeamScore),n.createElement("td",{className:"align-middle text-right"},n.createElement(m.a,{outline:!0,color:"secondary",size:"sm",onClick:function(){return a(t.id)}},"\u2573")))},b=function(){return n.createElement("thead",null,n.createElement("tr",null,n.createElement("th",null),n.createElement("th",null,"away"),n.createElement("th",null,"@home"),n.createElement("th",{className:"text-right"},"a"),n.createElement("th",{className:"text-right"},"h"),n.createElement("th",{className:"text-right"})))},N=function(e){var t=e.games,a=e.removeGame;return n.createElement(y.a,{responsive:!0,size:"sm"},n.createElement(b,null),n.createElement("tbody",null,t.filter((function(e){return!e.hidden})).map((function(e,t){return n.createElement(T,{key:t,game:e,removeGame:a})}))))};function x(){var e=Object(n.useState)({displayDate:"",games:[]}),t=Object(o.a)(e,2),a=t[0],r=t[1],l=Object(n.useState)(!1),h=Object(o.a)(l,2),f=h[0],p=h[1],E=function(){var e,t,a;return c.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("using cache"),(t=localStorage.getItem("nfl-schedule-data"))&&(e=JSON.parse(t)),i.a.unstable_batchedUpdates((function(){e&&r(e),p(!0)})),n.prev=4,n.next=7,c.a.awrap(w(e));case 7:a=n.sent,i.a.unstable_batchedUpdates((function(){r(a),p(!1)})),localStorage.setItem("nfl-schedule-data",JSON.stringify(a)),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(4),p(!1);case 15:case"end":return n.stop()}}),null,null,[[4,12]])};Object(n.useEffect)((function(){E()}),[]),function(e){var t=!0,a=function(){t||e(),t=!0},s=function(){return t=!1},r=function(){document.hidden?t=!1:(t||e(),t=!0)};Object(n.useEffect)((function(){return window.addEventListener("focus",a),window.addEventListener("blur",s),document.addEventListener("visibilitychange",r,!1),function(){window.removeEventListener("focus",a),window.removeEventListener("blur",s),document.removeEventListener("visibilitychange",r)}}),[])}(E);return console.log("rendering..."),s.a.createElement(g,{title:s.a.createElement("span",null,s.a.createElement("span",{className:"font-weight-bold"},"NFL"),s.a.createElement("span",{className:"pl-2 font-weight-light font-italic text-lowercase text-muted"},a.displayDate),s.a.createElement(m.a,{outline:!0,size:"sm",className:"float-right",onClick:function(){localStorage.removeItem("nfl-schedule-data"),E()},disabled:f,style:{width:"50px"}},f?s.a.createElement(u.a,{size:"sm",color:"primary",type:"grow"}):"Reset"))},f&&s.a.createElement(d.a,{animated:!0,style:{height:"5px"},color:"info",value:100}),s.a.createElement(N,{games:a.games,removeGame:function(e){var t=a.games.map((function(t){return t.id===e&&(t.hidden=!0),t}));r({displayDate:a.displayDate,games:t}),localStorage.setItem("nfl-schedule-data",JSON.stringify(a))}}))}var S=function(){return s.a.createElement("div",{className:"App"},s.a.createElement("div",{className:"container-fluid"},s.a.createElement("div",{className:"card-columns"},s.a.createElement(x,null))))};i.a.render(s.a.createElement(S,null),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.2c18620c.chunk.js.map