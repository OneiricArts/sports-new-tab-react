(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,a){e.exports=a(24)},19:function(e,t,a){},24:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(12),i=a.n(c),o=(a(19),a(8)),l=a(6),s=a.n(l),m=a(7),u={},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=new Date(e.getFullYear(),0,1),a=new Date(e.getFullYear(),6,1),n=Math.max(t.getTimezoneOffset(),a.getTimezoneOffset());return e.getTimezoneOffset()<n},g=function(e){return e.setUTCHours((e.getHours()+function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return f(e)?4:5}(e))%24),e};u.dateInPT=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=e.getTime()+6e4*e.getTimezoneOffset();return new Date(t+36e5*function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return f(e)?-7:-8}(e))},u.toLocalTime=function(e){var t=e;arguments.length>1&&void 0!==arguments[1]&&arguments[1]||(t=g(t));return t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}).split(" ")[0]};var d={getNFLData:function(){var e=Object(m.a)(s.a.mark(function e(){var t,a,n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"http://www.nfl.com/liveupdate/scores/scores.json",e.next=3,fetch("http://www.nfl.com/liveupdate/scores/scores.json");case 3:return e.next=5,e.sent.json();case 5:return t=e.sent,a={},e.prev=7,"https://feeds.nfl.com/feeds-rs/scores.json",e.next=11,fetch("https://feeds.nfl.com/feeds-rs/scores.json");case 11:return e.next=13,e.sent.json();case 13:n=e.sent,a=this.combineNFLAPIData(t,n),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(7),a=this.combineNFLAPIData(t,null);case 20:return a=this.labelScheduleData(a),e.abrupt("return",a);case 22:case"end":return e.stop()}},e,this,[[7,17]])}));return function(){return e.apply(this,arguments)}}(),combineNFLAPIData:function(e,t){var a={};if(a.gms=Object.entries(e).map(function(e){var t=Object(o.a)(e,2),a=t[0],n=t[1];return n.eid=parseInt(a,10),n}),!t)return a;for(var n={},r=0;r<t.gameScores.length;r+=1){var c=t.gameScores[r];n[c.gameSchedule.gameId]=c}return a.gms=a.gms.map(function(e){var t=e;return t.extrainfo=n[t.eid],t}),a.w=t.week,a},labelScheduleData:function(e){var t=e;return t.gms=t.gms.map(function(e){var t=e;if(!t.qtr||t.qtr.includes("Final")||isNaN(t.qtr)||(t.playing=!0),null!==t.home.score[1]&&(t.scoreTable=!0),null!==t.home.score.T){var a=parseInt(t.home.score.T,10),n=parseInt(t.away.score.T,10);a>n&&(t.home_winning=!0),n>a&&(t.visitor_winning=!0)}if(t.playing&&t.posteam===t.home.abbr?t.home_pos=!0:t.playing&&t.posteam===t.away.abbr&&(t.visitor_pos=!0),t.extrainfo){var r=parseInt(t.extrainfo.gameSchedule.gameTimeEastern.split(":")[0],10),c=parseInt(t.extrainfo.gameSchedule.gameTimeEastern.split(":")[1],10),i={};i.ampm=r>=0&&r<=10?"PM":"AM","PM"===i.ampm&&r<12?r+=12:"AM"===i.ampm&&12===r&&(r=0);var o=new Date(t.extrainfo.gameSchedule.gameDate);t.extrainfo.gameSchedule.gameDate=o.toLocaleString("en-us",{weekday:"short"}),t.t=u.toLocalTime(new Date(o.getFullYear(),o.getMonth(),o.getDate(),r,c))}else t.t="".concat(t.eid.toString().substring(4,6),".").concat(t.eid.toString().substring(6,8));return"final overtime"===t.qtr?t.qtr="final OT":"Pregame"===t.qtr&&(t.qtr="".concat(t.extrainfo.gameSchedule.gameDate," ").concat(t.t)),window.devEnv&&("SF"!==t.home.abbr&&"SF"!==t.away.abbr&&"NE"!==t.home.abbr&&"NE"!==t.away.abbr||(t.fav_team=!0)),t}),t},carryOverData:function(e,t){var a=e,n=t;try{if(a&&a.gms&&a.w===n.w)for(var r=0;r<n.gms.length&&a.gms.length;r+=1)n.gms[r].eid===a.gms[r].eid&&a.gms[r].hidden&&(n.gms[r].hidden=!0)}catch(c){}return n}};function h(e){var t={displayDate:"Week ".concat(e.w),games:[]};return e.gms.map(function(e){var a,n,r;return a=e.qtr?e.playing?"".concat(e.qtr,"Q, ").concat(e.clock):e.qtr:e.extrainfo?"".concat(e.extrainfo.gameSchedule.gameDate," ").concat(e.t):e.t,n=e.extrainfo?e.extrainfo.gameSchedule.visitorNickname:e.away.abbr,r=e.extrainfo?e.extrainfo.gameSchedule.homeNickname:e.home.abbr,e.visitor_pos&&(n="".concat(n," \ud83c\udfc8")),e.home_pos&&(r="".concat(r," \ud83c\udfc8")),t.games.push({id:e.eid,status:a,awayTeam:n,homeTeam:r,awayTeamWinning:e.visitor_winning,homeTeamWinning:e.home_winning,awayTeamScore:e.away.score.T,homeTeamScore:e.home.score.T,hidden:!1}),e}),t}function p(e,t){return e.displayDate!==t.displayDate?e:(e.games.map(function(e,a){var n=t.games.filter(function(t){return t.id===e.id})[0];return n&&(e.hidden=n.hidden),e}),e)}function v(){return(v=Object(m.a)(s.a.mark(function e(t){var a,n,r;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.getNFLData();case 2:if(a=e.sent,n=h(a),t){e.next=6;break}return e.abrupt("return",n);case 6:return r=p(n,t),e.abrupt("return",r);case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}var w=a(29),b=a(25),E=function(e){var t=e.game,a=e.removeGame;return n.createElement("tr",null,n.createElement("td",null,t.status),n.createElement("td",{className:t.awayTeamWinning?"winning_team":""},t.awayTeam),n.createElement("td",{className:t.homeTeamWinning?"winning_team":""},t.homeTeam),n.createElement("td",null,t.awayTeamScore),n.createElement("td",null,t.homeTeamScore),n.createElement("td",null,n.createElement(w.a,{outline:!0,color:"secondary",size:"sm",onClick:function(){return a(t.id)}},"\u2573")))},y=function(){return n.createElement("thead",null,n.createElement("tr",null,n.createElement("th",null),n.createElement("th",null,"away"),n.createElement("th",null,"@home"),n.createElement("th",null,"a"),n.createElement("th",null,"h"),n.createElement("th",null)))},S=function(e){var t=e.games,a=e.removeGame;return n.createElement(b.a,{responsive:!0,size:"sm"},n.createElement(y,null),n.createElement("tbody",null,t.filter(function(e){return!e.hidden}).map(function(e,t){return n.createElement(E,{key:t,game:e,removeGame:a})})))},T=a(26),D=a(27),x=a(28),N=(D.a,function(e){var t=e.title,a=e.children;return r.a.createElement(T.a,null,r.a.createElement(D.a,null,t),r.a.createElement(x.a,null,a))});function O(){var e=Object(n.useState)({displayDate:"",games:[]}),t=Object(o.a)(e,2),a=t[0],c=t[1],i=function(){var e,t=localStorage.getItem("nfl-schedule-data");t&&(e=JSON.parse(t))&&c(e),function(e){return v.apply(this,arguments)}(e).then(function(e){c(e),localStorage.setItem("nfl-schedule-data",JSON.stringify(e))})};Object(n.useEffect)(function(){i()},[]);return console.log("rendering..."),r.a.createElement(N,{title:r.a.createElement("span",null,"NFL // ",a.displayDate,r.a.createElement(w.a,{outline:!0,size:"sm",className:"float-right",onClick:function(){localStorage.removeItem("nfl-schedule-data"),i()}},"Reset"))},r.a.createElement(S,{games:a.games,removeGame:function(e){var t=a.games.map(function(t){return t.id===e&&(t.hidden=!0),t});c({displayDate:a.displayDate,games:t}),localStorage.setItem("nfl-schedule-data",JSON.stringify(a))}}))}var k=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"card-columns"},r.a.createElement(O,null))))};a(23);i.a.render(r.a.createElement(k,null),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.dd24b0e0.chunk.js.map