(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,a){e.exports=a(25)},21:function(e,t,a){},25:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),s=a(7),i=a.n(s),c=(a(20),a(21),a(6)),l=a.n(c),o=a(8),m=a(10),u=a(32),d=a(30),f=a(31);var h=a(26),p=a(27),g=a(28),E=(p.a,function(e){var t=e.title,a=e.children;return r.a.createElement(h.a,null,r.a.createElement(p.a,null,t),r.a.createElement(g.a,null,a))});function v(e){var t={displayDate:"Week ".concat(e.w),games:[]};return e.gms.forEach(function(e){var a=e.organizedInfo,n=a.id,r=a.status,s=a.awayTeam,i=a.homeTeam,c=a.awayTeamHasPosession,l=a.homeTeamHasPosession,o=a.awayTeamWinning,m=a.homeTeamWinning,u=a.awayTeamScore,d=a.homeTeamScore,f="";try{if("DATETIME"===r.type){var h=new Date(e.organizedInfo.status.value);f=h.toLocaleString("en-US",{weekday:"short",hour:"2-digit",minute:"2-digit"}).replace(/AM|PM/,"").trim()}else f=r.value}finally{}t.games.push({id:n,status:f,awayTeam:s,homeTeam:i,awayTeamWinning:o,homeTeamWinning:m,awayTeamScore:u,homeTeamScore:d,awayTeamHasPosession:c,homeTeamHasPosession:l,hidden:!1})}),t}function w(e,t){return e.displayDate!==t.displayDate?e:(e.games.map(function(e,a){var n=t.games.filter(function(t){return t.id===e.id})[0];return n&&(e.hidden=n.hidden),e}),e)}function y(e){return T.apply(this,arguments)}function T(){return(T=Object(o.a)(l.a.mark(function e(t){var a,n,r;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"https://sports-new-tab-page.appspot.com/nfl",e.next=3,fetch("https://sports-new-tab-page.appspot.com/nfl");case 3:return e.next=5,e.sent.json();case 5:if(a=e.sent,n=v(a),t){e.next=9;break}return e.abrupt("return",n);case 9:return r=w(n,t),e.abrupt("return",r);case 11:case"end":return e.stop()}},e)}))).apply(this,arguments)}var b=a(29),N=function(e){var t=e.game,a=e.removeGame;return n.createElement("tr",null,n.createElement("td",{className:"align-middle"},t.status),n.createElement("td",{className:"align-middle ".concat(t.awayTeamWinning?"winning_team":""," ").concat(t.awayTeamHasPosession?"has_posession":"")},t.awayTeam,t.awayTeamHasPosession&&n.createElement("span",{className:"d-none d-md-inline d-lg-inline"}," \ud83c\udfc8")),n.createElement("td",{className:"align-middle ".concat(t.homeTeamWinning&&"winning_team"," ").concat(t.homeTeamHasPosession?"has_posession":"")},t.homeTeam,t.homeTeamHasPosession&&n.createElement("span",{className:"d-none d-md-inline d-lg-inline"}," \ud83c\udfc8")),n.createElement("td",{className:"align-middle text-right"},t.awayTeamScore),n.createElement("td",{className:"align-middle text-right"},t.homeTeamScore),n.createElement("td",{className:"align-middle text-right"},n.createElement(u.a,{outline:!0,color:"secondary",size:"sm",onClick:function(){return a(t.id)}},"\u2573")))},x=function(){return n.createElement("thead",null,n.createElement("tr",null,n.createElement("th",null),n.createElement("th",null,"away"),n.createElement("th",null,"@home"),n.createElement("th",{className:"text-right"},"a"),n.createElement("th",{className:"text-right"},"h"),n.createElement("th",{className:"text-right"})))},S=function(e){var t=e.games,a=e.removeGame;return n.createElement(b.a,{responsive:!0,size:"sm"},n.createElement(x,null),n.createElement("tbody",null,t.filter(function(e){return!e.hidden}).map(function(e,t){return n.createElement(N,{key:t,game:e,removeGame:a})})))};function k(){var e=Object(n.useState)({displayDate:"",games:[]}),t=Object(m.a)(e,2),a=t[0],s=t[1],c=Object(n.useState)(!1),h=Object(m.a)(c,2),p=h[0],g=h[1],v=function(){var e=Object(o.a)(l.a.mark(function e(){var t,a,n;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("using cache"),(a=localStorage.getItem("nfl-schedule-data"))&&(t=JSON.parse(a)),i.a.unstable_batchedUpdates(function(){t&&s(t),g(!0)}),e.prev=4,e.next=7,y(t);case 7:n=e.sent,i.a.unstable_batchedUpdates(function(){s(n),g(!1)}),localStorage.setItem("nfl-schedule-data",JSON.stringify(n)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),g(!1);case 15:case"end":return e.stop()}},e,null,[[4,12]])}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){v()},[]),function(e){var t=!0,a=function(){t||e(),t=!0},r=function(){return t=!1},s=function(){document.hidden?t=!1:(t||e(),t=!0)};Object(n.useEffect)(function(){return window.addEventListener("focus",a),window.addEventListener("blur",r),document.addEventListener("visibilitychange",s,!1),function(){window.removeEventListener("focus",a),window.removeEventListener("blur",r),document.removeEventListener("visibilitychange",s)}},[])}(v);return console.log("rendering..."),r.a.createElement(E,{title:r.a.createElement("span",null,r.a.createElement("span",{className:"font-weight-bold"},"NFL"),r.a.createElement("span",{className:"pl-2 font-weight-light font-italic text-lowercase text-muted"},a.displayDate),r.a.createElement(u.a,{outline:!0,size:"sm",className:"float-right",onClick:function(){localStorage.removeItem("nfl-schedule-data"),v()},disabled:p,style:{width:"50px"}},p?r.a.createElement(d.a,{size:"sm",color:"primary",type:"grow"}):"Reset"))},p&&r.a.createElement(f.a,{animated:!0,style:{height:"5px"},color:"info",value:100}),r.a.createElement(S,{games:a.games,removeGame:function(e){var t=a.games.map(function(t){return t.id===e&&(t.hidden=!0),t});s({displayDate:a.displayDate,games:t}),localStorage.setItem("nfl-schedule-data",JSON.stringify(a))}}))}var O=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"card-columns"},r.a.createElement(k,null))))};i.a.render(r.a.createElement(O,null),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.51ec99d6.chunk.js.map